# План работы над проектом

- [x] Реализовать цветовое отображение открытых дней для редактирования
- [x] Реализовать подключение к SQLite, создать таблицу через Entity Framework для хранения заявок, настроить вывод на форму через бд
- [x] Создать структуры для хранения периодов и общего списка пользователей
- [x] В таблице с заявками хранятся логины, а отображению должно подлежать ActiveDirectoryCN
- [x] Доработать архитектуру. Сейчас проблема с отображением заявок, т.к. Id в группировке находится, а он должен быть в контексте дней, которые открывают для редактирования
- [x] Реализовать кнопки "Принять" / "Отклонить" для заявок на согласование на форме с отображением дней
- [x] После согласования заявки не меняется заголовок группы, хотя все Notify выполняются (решение IsLiveGroupingRequested="True")
- [x] После принятия или отклонения заявки доработать логику выделения объекта. Сейчас форма с днями отображается не так, как хотелось бы
- [x] В ListBoxItem добавить 3 точки для выбора двух действий: редактировать доступ (модальное открытие формы с днями с возможностью редактирования) и закрыть доступ (удаление заявки из бд)
- [x] Извлечение класса для повторяющегося метода RefreshDayVMs
- [x] Реализовать форму для выбора периода
- [x] Реализовать форму для выбора пользователей
- [x] Добавить логику на кнопку "Открыть доступ"
- [x] В ListBoxGroup добавить 3 точки для выбора действий: для согласованных заявок - закрыть доступ массово; для несогласованных - принять / отклонить массово
- [x] Баг при нажатии 3-х точек, если выбрана другая позиция, то не меняется selected item
- [x] При редактировании заявки если нет выбранных дней, необходимо удалять заявку (отказ от идеи)
- [x] Реализовать галочку "Открыть все дни"
- [x] Проверить, что появляется scroll viewer, когда заявки превышают высоту контейнера
- [x] Реализовать создание заявки через запуск приложения в консоли
- [x] Реализовать команду для обновления данных на форме
- [x] Реализация лоадеров
- [x] Реализация вывода ошибок на форму
- [x] Отработать ситуацию, когда вставляется заявка, которая уже существует в бд (по связке login-period)
- [x] Рефакторинг на отписку событий
- [x] На 3-х формах похожая отрисовка формы для отображения дней, необходимо извлечь компонент
- [x] Внедрение зависимостей через Net Hosting
- [x] Вынести строку подключения в json файл

- [ ] Написать юнит тест на функцию, которая рисует календарь
- [ ] Написать документацию к задаче
- [ ] Написать инструкцию по работе в программе

# Баги после финального тестирования
- [x] При добавлении / согласовании со слиянием с уже сущ.заявкой не выделяется конечная заявка, куда попали согласуемые даты
- [x] В cmd режиме при отмене операции выводится сообщение, будто заявка создана, но это не так
- [x] Необходимо удалять заявку, если после редактирования не выбрано ни одного дня
- [x] Сначала добавил заявки в сентябре, потом в августе. Сортировка по периоду сработала только после обновления данных, а не в момент добавления
- [x] При выборе периода не хватает двойного клика по строке для выбора периода
- [ ] Убрать непонятную тень в центре экрана в модальном окне
- [ ] Ошибка в логе с Vusual Tree (из-за модального окна custom:Modal в MainWindow.xaml)
